<!DOCTYPE html>
<html>
<head>
  <title>Compass Example</title>
  <meta charset="utf-8"/>
</head>
<body>
  <div id="one"></div>
  <div id="two"></div>
  <!-- <button onclick="fuga()">変更</button> -->
  <script type="text/javascript" charset="utf-8">
    function piyo() {
      var hoge = document.getElementById('one');
      var fuga = document.getElementById('two');
      window.addEventListener('deviceorientation', function(event) {
        hoge.innerHTML = 'コンパスの向き : ' + event.webkitCompassHeading + '<br>';
        fuga.innerHTML = 'コンパスの精度 : ' + event.webkitCompassAccuracy + '<br>';
      });
    }

    window.onload = function(){
      //1000ミリ秒（1秒）毎に関数「showNowDate()」を呼び出す
      setInterval("piyo()", 1000);
    }

    //現在時刻を表示する関数
    // function showNowDate(){
    //   var dt = new Date();
    //   document.write(dt);
    // }

  </script>
</body>
</html>